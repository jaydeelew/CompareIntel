
> frontend@0.0.0 test:run
> vitest run


 RUN  v4.0.15 /home/dan_wsl/jaydeelew/CompareIntel/frontend

stderr | src/__tests__/hooks/useRateLimitStatus.test.ts > useRateLimitStatus > setUsageCount > should allow setting with function updater
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/@testing-library/react/dist/pure.js:329:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/@testing-library/react/dist/pure.js:329:5)

 ❯ src/__tests__/hooks/useRateLimitStatus.test.ts (17 tests | 5 failed) 2788ms
       × should initialize with default values 104ms
       ✓ should not fetch when not authenticated and no fingerprint 25ms
       ✓ should fetch rate limit status on mount 85ms
       ✓ should fetch when authentication status changes 25ms
       ✓ should fetch rate limit status with fingerprint 82ms
       ✓ should load usage count from localStorage 39ms
       × should reset usage count if date is different 23ms
       × should load extended usage count from localStorage 1058ms
       × should reset extended usage count if date is different 1024ms
       ✓ should handle invalid localStorage data gracefully 26ms
       ✓ should allow setting usage count 32ms
       ✓ should allow setting with function updater 68ms
       × should allow setting extended usage count 39ms
       ✓ should allow manual fetching 75ms
       ✓ should handle fetch errors gracefully 8ms
       ✓ should not fetch when not authenticated and no fingerprint 11ms
       ✓ should refetch when fingerprint changes 50ms
 ❯ src/components/conversation/__tests__/ConversationItem.test.tsx (15 tests | 1 failed) 889ms
       ✓ should render conversation item 148ms
       ✓ should display truncated prompt 18ms
       ✓ should display date 17ms
       ✓ should display model count 18ms
       × should display singular model count 43ms
       ✓ should apply active class when isActive is true 23ms
       ✓ should not apply active class when isActive is false 11ms
       ✓ should not apply active class by default 14ms
       ✓ should call onClick when clicked 260ms
       ✓ should call onClick when Enter key is pressed 104ms
       ✓ should call onClick when Space key is pressed 75ms
       ✓ should not call onClick when onClick is not provided 80ms
       ✓ should have button role 37ms
       ✓ should be keyboard accessible 26ms
       ✓ should apply custom className 5ms
 ❯ src/__tests__/hooks/useModelComparison.test.ts (29 tests | 2 failed) 606ms
       × should initialize with default values 125ms
       ✓ should initialize refs with correct default values 14ms
       ✓ should allow setting input 20ms
       ✓ should allow setting input with function updater 27ms
       × should allow toggling extended mode 13ms
       ✓ should allow setting loading state 21ms
       ✓ should allow setting error 23ms
       ✓ should allow setting response 22ms
       ✓ should allow setting processing time 15ms
       ✓ should allow setting conversations 18ms
       ✓ should allow updating conversations with function updater 18ms
       ✓ should allow toggling follow-up mode 32ms
       ✓ should allow managing closed cards 48ms
       ✓ should allow updating closed cards with function updater 7ms
       ✓ should allow setting active result tabs 19ms
       ✓ should allow setting abort controller 17ms
       ✓ should reset comparison state 19ms
       ✓ should not reset input or conversations 14ms
       ✓ should abort controller and set loading to false 14ms
       ✓ should handle cancel when no controller exists 5ms
       ✓ should return undefined when no conversations 9ms
       ✓ should return first user message chronologically 10ms
       ✓ should handle multiple conversations 36ms
       ✓ should ignore assistant messages 4ms
       ✓ should return conversations for selected models 4ms
       ✓ should filter out conversations with no messages 10ms
       ✓ should return empty array when no matching conversations 8ms
       ✓ should allow modifying refs directly 6ms
       ✓ should allow modifying scroll-related refs 4ms
 ❯ src/__tests__/hooks/useModelComparison.edge-cases.test.ts (41 tests | 2 failed) 615ms
       ✓ should handle network errors gracefully 69ms
       ✓ should handle API errors without crashing 16ms
       ✓ should clear error when setting new input 17ms
       ✓ should handle multiple rapid error updates 12ms
       ✓ should handle rapid loading state changes 19ms
       ✓ should handle loading state with error 15ms
       ✓ should handle loading state with response 14ms
       ✓ should handle empty string input 7ms
       ✓ should handle very long input 16ms
       ✓ should handle input with special characters 24ms
       ✓ should handle input with unicode characters 34ms
       ✓ should handle input with newlines 24ms
       ✓ should handle input with whitespace only 23ms
       ✓ should handle null response 15ms
       ✓ should handle response with empty results 16ms
       ✓ should handle response with partial failures 9ms
       ✓ should handle response with very long content 8ms
       ✓ should handle empty conversations array 4ms
       ✓ should handle very large conversations array 26ms
       ✓ should handle conversations with missing fields 7ms
       ✓ should handle closing non-existent card 6ms
       ✓ should handle closing same card multiple times 27ms
       ✓ should handle closing all cards 10ms
       ✓ should handle empty active tabs 8ms
       ✓ should handle tabs for non-existent models 7ms
       ✓ should handle invalid tab values 8ms
       × should handle rapid extended mode toggles 46ms
       × should handle extended mode with existing response 8ms
       ✓ should handle rapid follow-up mode toggles 8ms
       ✓ should handle follow-up mode without conversations 5ms
       ✓ should handle null processing time 7ms
       ✓ should handle zero processing time 9ms
       ✓ should handle very large processing time 10ms
       ✓ should handle negative processing time 4ms
       ✓ should handle ref updates 13ms
       ✓ should handle scroll listeners ref 2ms
       ✓ should handle user interacting ref 2ms
       ✓ should handle null abort controller 7ms
       ✓ should handle abort controller replacement 14ms
       ✓ should handle scroll lock toggles 11ms
       ✓ should sync scroll lock ref with state 7ms
 ❯ src/__tests__/services/compareService.test.ts (15 tests | 4 failed) 194ms
       × should perform streaming comparison 37ms
       ✓ should handle null stream response 1ms
       ✓ should handle streaming errors 8ms
       ✓ should process stream events correctly 29ms
       ✓ should handle complete event 7ms
       ✓ should handle error events 3ms
       ✓ should handle null stream 1ms
       ✓ should handle stream reading errors 2ms
       × should get rate limit status for authenticated user 60ms
       × should get rate limit status with fingerprint 8ms
       ✓ should handle API errors 4ms
       × should get anonymous mock mode status 6ms
       ✓ should get model statistics 4ms
       ✓ should reset rate limit for authenticated user 5ms
       ✓ should reset rate limit with fingerprint 3ms
 ❯ src/utils/__tests__/validation.test.ts (18 tests | 1 failed) 392ms
       ✓ should return unchanged ID for safe characters 15ms
       ✓ should replace unsafe characters with hyphens 1ms
       ✓ should handle special characters 14ms
       × should handle empty string 48ms
       ✓ should validate correct email addresses 2ms
       ✓ should reject invalid email addresses 27ms
       ✓ should return valid for input within limit 17ms
       ✓ should return invalid for input exceeding limit 218ms
       ✓ should handle exact length match 1ms
       ✓ should handle empty string 1ms
       ✓ should return true for empty string 1ms
       ✓ should return true for whitespace-only string 1ms
       ✓ should return false for non-empty string 14ms
       ✓ should return valid for non-empty input 3ms
       ✓ should return invalid for empty input 9ms
       ✓ should return invalid for whitespace-only input 1ms
       ✓ should use custom field name in error message 1ms
       ✓ should use default field name 0ms
 ❯ src/__tests__/services/modelsService.test.ts (5 tests | 2 failed) 64ms
       × should get available models 32ms
       ✓ should handle API errors 6ms
       × should get models organized by provider 8ms
       ✓ should handle empty models 2ms
       ✓ should handle API errors 1ms
 ✓ src/components/comparison/__tests__/ResultCard.test.tsx (20 tests) 3187ms
       ✓ should render Formatted and Raw tabs  317ms
       ✓ should call onCopyResponse when copy button is clicked  356ms
       ✓ should call onClose when close button is clicked  324ms
Error: Uncaught [Error: Test error]
    at reportException (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error
    at ThrowError (/home/dan_wsl/jaydeelew/CompareIntel/frontend/src/components/shared/__tests__/ErrorBoundary.test.tsx:14:11)
    at renderWithHooks (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error]
    at reportException (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error
    at ThrowError (/home/dan_wsl/jaydeelew/CompareIntel/frontend/src/components/shared/__tests__/ErrorBoundary.test.tsx:14:11)
    at renderWithHooks (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error]
    at reportException (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error
    at ThrowError (/home/dan_wsl/jaydeelew/CompareIntel/frontend/src/components/shared/__tests__/ErrorBoundary.test.tsx:14:11)
    at renderWithHooks (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error]
    at reportException (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error
    at ThrowError (/home/dan_wsl/jaydeelew/CompareIntel/frontend/src/components/shared/__tests__/ErrorBoundary.test.tsx:14:11)
    at renderWithHooks (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error]
    at reportException (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error
    at ThrowError (/home/dan_wsl/jaydeelew/CompareIntel/frontend/src/components/shared/__tests__/ErrorBoundary.test.tsx:14:11)
    at renderWithHooks (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error]
    at reportException (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error
    at ThrowError (/home/dan_wsl/jaydeelew/CompareIntel/frontend/src/components/shared/__tests__/ErrorBoundary.test.tsx:14:11)
    at renderWithHooks (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error]
    at reportException (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error
    at ThrowError (/home/dan_wsl/jaydeelew/CompareIntel/frontend/src/components/shared/__tests__/ErrorBoundary.test.tsx:14:11)
    at renderWithHooks (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error]
    at reportException (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error
    at ThrowError (/home/dan_wsl/jaydeelew/CompareIntel/frontend/src/components/shared/__tests__/ErrorBoundary.test.tsx:14:11)
    at renderWithHooks (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error]
    at reportException (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error
    at ThrowError (/home/dan_wsl/jaydeelew/CompareIntel/frontend/src/components/shared/__tests__/ErrorBoundary.test.tsx:14:11)
    at renderWithHooks (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error]
    at reportException (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error
    at ThrowError (/home/dan_wsl/jaydeelew/CompareIntel/frontend/src/components/shared/__tests__/ErrorBoundary.test.tsx:14:11)
    at renderWithHooks (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error]
    at reportException (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error
    at ThrowError (/home/dan_wsl/jaydeelew/CompareIntel/frontend/src/components/shared/__tests__/ErrorBoundary.test.tsx:14:11)
    at renderWithHooks (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error]
    at reportException (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error
    at ThrowError (/home/dan_wsl/jaydeelew/CompareIntel/frontend/src/components/shared/__tests__/ErrorBoundary.test.tsx:14:11)
    at renderWithHooks (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error]
    at reportException (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error
    at ThrowError (/home/dan_wsl/jaydeelew/CompareIntel/frontend/src/components/shared/__tests__/ErrorBoundary.test.tsx:14:11)
    at renderWithHooks (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error]
    at reportException (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error
    at ThrowError (/home/dan_wsl/jaydeelew/CompareIntel/frontend/src/components/shared/__tests__/ErrorBoundary.test.tsx:14:11)
    at renderWithHooks (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error]
    at reportException (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error
    at ThrowError (/home/dan_wsl/jaydeelew/CompareIntel/frontend/src/components/shared/__tests__/ErrorBoundary.test.tsx:14:11)
    at renderWithHooks (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
Error: Uncaught [Error: Test error]
    at reportException (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: Test error
    at ThrowError (/home/dan_wsl/jaydeelew/CompareIntel/frontend/src/components/shared/__tests__/ErrorBoundary.test.tsx:14:11)
    at renderWithHooks (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
 ✓ src/components/shared/__tests__/ErrorBoundary.test.tsx (11 tests) 1989ms
       ✓ should catch errors and render default fallback  335ms
       ✓ should show reload button in default fallback  328ms
       ✓ should reload page when reload button is clicked  382ms
 ✓ src/components/shared/__tests__/Input.test.tsx (30 tests) 2121ms
       ✓ should render input element  323ms
       ✓ should handle input changes  350ms
 ✓ src/components/shared/__tests__/Button.test.tsx (26 tests) 1518ms
       ✓ should render button with children  448ms
 ✓ src/components/comparison/__tests__/StreamingIndicator.test.tsx (12 tests) 724ms
 ✓ src/components/conversation/__tests__/MessageBubble.test.tsx (13 tests) 538ms
stderr | src/__tests__/hooks/useConversationHistory.test.ts > useConversationHistory > initialization > should set correct history limit for free tier
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/@testing-library/react/dist/pure.js:329:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/@testing-library/react/dist/pure.js:329:5)

stderr | src/__tests__/hooks/useConversationHistory.test.ts > useConversationHistory > initialization > should set correct history limit for pro tier
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/@testing-library/react/dist/pure.js:329:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/@testing-library/react/dist/pure.js:329:5)

 ✓ src/__tests__/hooks/useConversationHistory.test.ts (28 tests) 709ms
stderr | src/__tests__/hooks/useBrowserFingerprint.test.ts > useBrowserFingerprint > should initialize with empty fingerprint
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/@testing-library/react/dist/pure.js:329:5)

stderr | src/__tests__/hooks/useBrowserFingerprint.test.ts > useBrowserFingerprint > should handle fingerprint generation errors gracefully
Failed to generate browser fingerprint: Error: Fingerprint generation failed
    at /home/dan_wsl/jaydeelew/CompareIntel/frontend/src/__tests__/hooks/useBrowserFingerprint.test.ts:68:19
    at file:///home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/@vitest/runner/dist/index.js:1240:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/@vitest/runner/dist/index.js:1206:10)
    at file:///home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/@vitest/runner/dist/index.js:1650:37
    at Traces.$ (file:///home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/vitest/dist/chunks/test.BT8LKgU9.js:239:21)
    at runTest (file:///home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/@vitest/runner/dist/index.js:1650:12)

 ✓ src/__tests__/hooks/useBrowserFingerprint.test.ts (9 tests) 1085ms
 ✓ src/components/shared/__tests__/LoadingSpinner.test.tsx (16 tests) 765ms
       ✓ should render spinner  359ms
 ✓ src/__tests__/hooks/useModelSelection.test.ts (18 tests) 407ms
 ✓ src/utils/__tests__/error.test.ts (11 tests) 443ms
 ✓ src/__tests__/hooks/useDebounce.test.ts (10 tests) 295ms
stdout | src/__tests__/config/rendererConfigs.test.ts > Renderer Configuration Loading > loadConfigsFromStatic > should load valid configurations
Loaded 1 model configurations from static configs

stdout | src/__tests__/config/rendererConfigs.test.ts > Renderer Configuration Loading > loadConfigsFromStatic > should convert string patterns to RegExp objects
Loaded 1 model configurations from static configs

stdout | src/__tests__/config/rendererConfigs.test.ts > Renderer Configuration Loading > loadConfigsFromStatic > should convert trust array to function
Loaded 1 model configurations from static configs

stdout | src/__tests__/config/rendererConfigs.test.ts > Renderer Configuration Loading > loadConfigsFromStatic > should handle multiple configurations
Loaded 2 model configurations from static configs

stdout | src/__tests__/config/rendererConfigs.test.ts > Renderer Configuration Loading > loadConfigsFromStatic > should skip invalid configurations and continue
Loaded 1 model configurations from static configs

stdout | src/__tests__/config/rendererConfigs.test.ts > Renderer Configuration Loading > loadConfigsFromStatic > should not load if registry is already initialized
Loaded 1 model configurations from static configs

stdout | src/__tests__/config/rendererConfigs.test.ts > Renderer Configuration Loading > initializeRegistry > should load configurations successfully
Loaded 68 model configurations from static configs
Model renderer registry initialized with 68 configurations

stdout | src/__tests__/config/rendererConfigs.test.ts > Renderer Configuration Loading > initializeRegistry > should not reinitialize if already initialized
Loaded 1 model configurations from static configs

stdout | src/__tests__/config/rendererConfigs.test.ts > Renderer Configuration Loading > getModelConfig > should return registered config for known model
Loaded 1 model configurations from static configs

 ✓ src/__tests__/config/rendererConfigs.test.ts (13 tests) 337ms
 ✓ src/utils/__tests__/format.test.ts (21 tests) 189ms
stdout | src/__tests__/services/compareService.websearch.test.ts > compareService - Web Search > compareStream with web search > should include enable_web_search in request payload
[API Request] { method: 'POST', url: '/compare-stream', headers: {} }

stdout | src/__tests__/services/compareService.websearch.test.ts > compareService - Web Search > compareStream with web search > should not include enable_web_search when false
[API Request] { method: 'POST', url: '/compare-stream', headers: {} }

stdout | src/__tests__/services/compareService.websearch.test.ts > compareService - Web Search > compareStream with web search > should handle web search tool calls in stream
[API Request] { method: 'POST', url: '/compare-stream', headers: {} }

stderr | src/__tests__/services/compareService.websearch.test.ts > compareService - Web Search > compareStream with web search > should handle web search tool calls in stream
Error parsing SSE message: SyntaxError: Unexpected non-whitespace character after JSON at position 119
    at JSON.parse (<anonymous>)
    at processStreamEvents (/home/dan_wsl/jaydeelew/CompareIntel/frontend/src/services/compareService.ts:137:43)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at /home/dan_wsl/jaydeelew/CompareIntel/frontend/src/__tests__/services/compareService.websearch.test.ts:109:7
    at file:///home/dan_wsl/jaydeelew/CompareIntel/frontend/node_modules/@vitest/runner/dist/index.js:915:20 data: {"type":"chunk","model":"openai/gpt-4","content":"{\"type\":\"tool_result\",\"content\":\"Search results: Sunny, 75°F"}"}

stdout | src/__tests__/services/compareService.websearch.test.ts > compareService - Web Search > web search error handling > should handle web search provider unavailable
[API Request] { method: 'POST', url: '/compare-stream', headers: {} }

stdout | src/__tests__/services/compareService.websearch.test.ts > compareService - Web Search > web search error handling > should handle web search API errors gracefully
[API Request] { method: 'POST', url: '/compare-stream', headers: {} }

 ✓ src/__tests__/services/compareService.websearch.test.ts (5 tests) 398ms
 ✓ src/utils/__tests__/date.test.ts (20 tests) 126ms
 ✓ src/__tests__/services/authService.test.ts (17 tests) 79ms
 ✓ src/__tests__/services/compareService.edge-cases.test.ts (6 tests) 133ms
 ✓ src/__tests__/services/adminService.test.ts (20 tests) 122ms
stderr | src/utils/__tests__/codeBlockPreservation.test.ts > codeBlockPreservation > verifyCodeBlockPreservation > should detect content mismatch
Code block content mismatch at index 0:
Original: print("original")...
Restored: print("modified")...

 ✓ src/utils/__tests__/codeBlockPreservation.test.ts (23 tests) 51ms
 ✓ src/__tests__/rendererArchitecture.test.ts (18 tests) 19ms
 ✓ src/__tests__/services/conversationService.test.ts (9 tests) 25ms
 ✓ src/utils/__tests__/fingerprint.test.ts (3 tests) 19ms
 ✓ src/utils/__tests__/hash.test.ts (6 tests) 48ms
 ✓ src/__tests__/services/configService.test.ts (4 tests) 19ms

⎯⎯⎯⎯⎯⎯ Failed Tests 17 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  src/__tests__/hooks/useModelComparison.edge-cases.test.ts > useModelComparison - Edge Cases > Extended Mode Edge Cases > should handle rapid extended mode toggles
TypeError: result.current.setIsExtendedMode is not a function
 ❯ src/__tests__/hooks/useModelComparison.edge-cases.test.ts:384:24
    382| 
    383|       act(() => {
    384|         result.current.setIsExtendedMode(true)
       |                        ^
    385|         result.current.setIsExtendedMode(false)
    386|         result.current.setIsExtendedMode(true)
 ❯ node_modules/@testing-library/react/dist/act-compat.js:48:24
 ❯ act node_modules/react/cjs/react.development.js:2512:16
 ❯ node_modules/@testing-library/react/dist/act-compat.js:47:25
 ❯ src/__tests__/hooks/useModelComparison.edge-cases.test.ts:383:7

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/17]⎯

 FAIL  src/__tests__/hooks/useModelComparison.edge-cases.test.ts > useModelComparison - Edge Cases > Extended Mode Edge Cases > should handle extended mode with existing response
TypeError: result.current.setIsExtendedMode is not a function
 ❯ src/__tests__/hooks/useModelComparison.edge-cases.test.ts:399:24
    397|       act(() => {
    398|         result.current.setResponse(mockResponse)
    399|         result.current.setIsExtendedMode(true)
       |                        ^
    400|       })
    401| 
 ❯ node_modules/@testing-library/react/dist/act-compat.js:48:24
 ❯ act node_modules/react/cjs/react.development.js:2512:16
 ❯ node_modules/@testing-library/react/dist/act-compat.js:47:25
 ❯ src/__tests__/hooks/useModelComparison.edge-cases.test.ts:397:7

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/17]⎯

 FAIL  src/__tests__/hooks/useModelComparison.test.ts > useModelComparison > initialization > should initialize with default values
AssertionError: expected undefined to be false // Object.is equality

- Expected: 
false

+ Received: 
undefined

 ❯ src/__tests__/hooks/useModelComparison.test.ts:28:45
     26| 
     27|       expect(result.current.input).toBe('')
     28|       expect(result.current.isExtendedMode).toBe(false)
       |                                             ^
     29|       expect(result.current.isLoading).toBe(false)
     30|       expect(result.current.error).toBe(null)

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/17]⎯

 FAIL  src/__tests__/hooks/useModelComparison.test.ts > useModelComparison > extended mode > should allow toggling extended mode
AssertionError: expected undefined to be false // Object.is equality

- Expected: 
false

+ Received: 
undefined

 ❯ src/__tests__/hooks/useModelComparison.test.ts:85:45
     83|       const { result } = renderHook(() => useModelComparison())
     84| 
     85|       expect(result.current.isExtendedMode).toBe(false)
       |                                             ^
     86| 
     87|       act(() => {

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/17]⎯

 FAIL  src/__tests__/hooks/useRateLimitStatus.test.ts > useRateLimitStatus > initialization > should initialize with default values
AssertionError: expected undefined to be +0 // Object.is equality

- Expected: 
0

+ Received: 
undefined

 ❯ src/__tests__/hooks/useRateLimitStatus.test.ts:39:49
     37| 
     38|       expect(result.current.usageCount).toBe(0)
     39|       expect(result.current.extendedUsageCount).toBe(0)
       |                                                 ^
     40|       expect(result.current.rateLimitStatus).toBe(null)
     41|     })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/17]⎯

 FAIL  src/__tests__/hooks/useRateLimitStatus.test.ts > useRateLimitStatus > anonymous users > should reset usage count if date is different
AssertionError: expected '{"count":3,"date":"Mon Jan 05 2026"}' to be null

- Expected: 
null

+ Received: 
"{\"count\":3,\"date\":\"Mon Jan 05 2026\"}"

 ❯ src/__tests__/hooks/useRateLimitStatus.test.ts:166:58
    164| 
    165|       // Should remove old localStorage entry
    166|       expect(localStorage.getItem('compareintel_usage')).toBeNull()
       |                                                          ^
    167|     })
    168| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[6/17]⎯

 FAIL  src/__tests__/hooks/useRateLimitStatus.test.ts > useRateLimitStatus > anonymous users > should load extended usage count from localStorage
AssertionError: expected undefined to be 2 // Object.is equality

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m

- Expected: 
2

+ Received: 
undefined

 ❯ src/__tests__/hooks/useRateLimitStatus.test.ts:181:51
    179| 
    180|       await waitFor(() => {
    181|         expect(result.current.extendedUsageCount).toBe(2)
       |                                                   ^
    182|       })
    183|     })
 ❯ runWithExpensiveErrorDiagnosticsDisabled node_modules/@testing-library/dom/dist/config.js:47:12
 ❯ checkCallback node_modules/@testing-library/dom/dist/wait-for.js:124:77
 ❯ Timeout.checkRealTimersCallback node_modules/@testing-library/dom/dist/wait-for.js:118:16

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[7/17]⎯

 FAIL  src/__tests__/hooks/useRateLimitStatus.test.ts > useRateLimitStatus > anonymous users > should reset extended usage count if date is different
AssertionError: expected undefined to be +0 // Object.is equality

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m

- Expected: 
0

+ Received: 
undefined

 ❯ src/__tests__/hooks/useRateLimitStatus.test.ts:201:51
    199| 
    200|       await waitFor(() => {
    201|         expect(result.current.extendedUsageCount).toBe(0)
       |                                                   ^
    202|       })
    203| 
 ❯ runWithExpensiveErrorDiagnosticsDisabled node_modules/@testing-library/dom/dist/config.js:47:12
 ❯ checkCallback node_modules/@testing-library/dom/dist/wait-for.js:124:77
 ❯ Timeout.checkRealTimersCallback node_modules/@testing-library/dom/dist/wait-for.js:118:16

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[8/17]⎯

 FAIL  src/__tests__/hooks/useRateLimitStatus.test.ts > useRateLimitStatus > setExtendedUsageCount > should allow setting extended usage count
TypeError: result.current.setExtendedUsageCount is not a function
 ❯ src/__tests__/hooks/useRateLimitStatus.test.ts:274:24
    272| 
    273|       act(() => {
    274|         result.current.setExtendedUsageCount(2)
       |                        ^
    275|       })
    276| 
 ❯ node_modules/@testing-library/react/dist/act-compat.js:48:24
 ❯ act node_modules/react/cjs/react.development.js:2512:16
 ❯ Proxy.<anonymous> node_modules/@testing-library/react/dist/act-compat.js:47:25
 ❯ src/__tests__/hooks/useRateLimitStatus.test.ts:273:7

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[9/17]⎯

 FAIL  src/__tests__/services/compareService.test.ts > compareService > compareStream > should perform streaming comparison
AssertionError: expected "vi.fn()" to be called with arguments: [ '/compare-stream', …(1) ]

Received: 

  1st vi.fn() call:

@@ -4,6 +4,9 @@
      "input_data": "test input",
      "models": [
        "gpt-4",
      ],
    },
+   {
+     "signal": undefined,
+   },
  ]


Number of calls: 1

 ❯ src/__tests__/services/compareService.test.ts:42:32
     40|       const result = await compareService.compareStream(payload)
     41| 
     42|       expect(apiClient.stream).toHaveBeenCalledWith('/compare-stream',…
       |                                ^
     43|       expect(result).toBe(mockStream)
     44|     })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[10/17]⎯

 FAIL  src/__tests__/services/compareService.test.ts > compareService > getRateLimitStatus > should get rate limit status for authenticated user
AssertionError: expected "vi.fn()" to be called with arguments: [ '/rate-limit-status' ]

Received: 

  1st vi.fn() call:

  [
-   "/rate-limit-status",
+   "/rate-limit-status?timezone=America%2FChicago",
+   {
+     "_cacheKey": "GET:/rate-limit-status?timezone=America/Chicago",
+     "cacheTTL": 30000,
+   },
  ]


Number of calls: 1

 ❯ src/__tests__/services/compareService.test.ts:170:29
    168|       const result = await compareService.getRateLimitStatus()
    169| 
    170|       expect(apiClient.get).toHaveBeenCalledWith('/rate-limit-status')
       |                             ^
    171|       expect(result).toEqual(mockStatus)
    172|     })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[11/17]⎯

 FAIL  src/__tests__/services/compareService.test.ts > compareService > getRateLimitStatus > should get rate limit status with fingerprint
AssertionError: expected "vi.fn()" to be called with arguments: [ Array(1) ]

Received: 

  1st vi.fn() call:

  [
-   "/rate-limit-status?fingerprint=test-fingerprint",
+   "/rate-limit-status?fingerprint=test-fingerprint&timezone=America%2FChicago",
+   {
+     "_cacheKey": "GET:/rate-limit-status?fingerprint=test-fingerprint&timezone=America/Chicago",
+     "cacheTTL": 30000,
+   },
  ]


Number of calls: 1

 ❯ src/__tests__/services/compareService.test.ts:181:29
    179|       const result = await compareService.getRateLimitStatus(fingerpri…
    180| 
    181|       expect(apiClient.get).toHaveBeenCalledWith(
       |                             ^
    182|         `/rate-limit-status?fingerprint=${encodeURIComponent(fingerpri…
    183|       )

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[12/17]⎯

 FAIL  src/__tests__/services/compareService.test.ts > compareService > getAnonymousMockModeStatus > should get anonymous mock mode status
AssertionError: expected "vi.fn()" to be called with arguments: [ '/anonymous-mock-mode-status' ]

Received: 

  1st vi.fn() call:

  [
    "/anonymous-mock-mode-status",
+   {
+     "_cacheKey": "GET:/anonymous-mock-mode-status",
+     "cacheTTL": 300000,
+   },
  ]


Number of calls: 1

 ❯ src/__tests__/services/compareService.test.ts:206:29
    204|       const result = await compareService.getAnonymousMockModeStatus()
    205| 
    206|       expect(apiClient.get).toHaveBeenCalledWith('/anonymous-mock-mode…
       |                             ^
    207|       expect(result).toEqual(mockStatus)
    208|     })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[13/17]⎯

 FAIL  src/__tests__/services/modelsService.test.ts > modelsService > getAvailableModels > should get available models
AssertionError: expected "vi.fn()" to be called with arguments: [ '/models' ]

Received: 

  1st vi.fn() call:

  [
    "/models",
+   {
+     "_cacheKey": "GET:/models",
+     "cacheTTL": 600000,
+   },
  ]


Number of calls: 1

 ❯ src/__tests__/services/modelsService.test.ts:54:29
     52|       const result = await modelsService.getAvailableModels()
     53| 
     54|       expect(apiClient.get).toHaveBeenCalledWith('/models')
       |                             ^
     55|       expect(result).toEqual(mockResponse)
     56|     })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[14/17]⎯

 FAIL  src/__tests__/services/modelsService.test.ts > modelsService > getModelsByProvider > should get models organized by provider
AssertionError: expected "vi.fn()" to be called with arguments: [ '/models' ]

Received: 

  1st vi.fn() call:

  [
    "/models",
+   {
+     "_cacheKey": "GET:/models",
+     "cacheTTL": 600000,
+   },
  ]


Number of calls: 1

 ❯ src/__tests__/services/modelsService.test.ts:78:29
     76|       const result = await modelsService.getModelsByProvider()
     77| 
     78|       expect(apiClient.get).toHaveBeenCalledWith('/models')
       |                             ^
     79|       expect(result).toEqual(mockModelsByProvider)
     80|     })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[15/17]⎯

 FAIL  src/utils/__tests__/validation.test.ts > validation utilities > getSafeId > should handle empty string
AssertionError: expected 'unknown' to be '' // Object.is equality

- Expected
+ Received

+ unknown

 ❯ src/utils/__tests__/validation.test.ts:39:29
     37| 
     38|     it('should handle empty string', () => {
     39|       expect(getSafeId('')).toBe('')
       |                             ^
     40|     })
     41|   })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[16/17]⎯

 FAIL  src/components/conversation/__tests__/ConversationItem.test.tsx > ConversationItem > Rendering > should display singular model count
TestingLibraryElementError: Unable to find an element with the text: /1 models/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"conversation-item history-item"[39m
      [33mrole[39m=[32m"button"[39m
      [33mtabindex[39m=[32m"0"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"history-prompt"[39m
      [36m>[39m
        [0mTest input data 1[0m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"history-meta"[39m
      [36m>[39m
        [36m<span[39m
          [33mclass[39m=[32m"history-date"[39m
        [36m>[39m
          [0mJust now[0m
        [36m</span>[39m
        [36m<span[39m
          [33mclass[39m=[32m"history-models"[39m
        [36m>[39m
          [0mgpt-4[0m
        [36m</span>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/components/conversation/__tests__/ConversationItem.test.tsx:58:21
     56|       })
     57|       render(<ConversationItem conversation={singleModelConversation} …
     58|       expect(screen.getByText(/1 models/i)).toBeInTheDocument()
       |                     ^
     59|     })
     60|   })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[17/17]⎯


 Test Files  7 failed | 25 passed (32)
      Tests  17 failed | 492 passed (509)
   Start at  01:57:41
   Duration  184.55s (transform 8.66s, setup 25.50s, import 21.67s, tests 20.90s, environment 86.81s)

